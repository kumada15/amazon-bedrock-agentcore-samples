# Amazon Bedrock AgentCore Gateway - セマンティック検索

## チュートリアルアーキテクチャ

Amazon Bedrock AgentCore Gateway は、エージェントとそれらが対話する必要のあるツールやリソース間の統一された接続性を提供します。Gateway はこの接続レイヤーで複数の役割を果たします：

1. **セキュリティガード**：Gateway は OAuth 認可を管理し、有効なユーザー/エージェントのみがツール/リソースにアクセスできるようにします。
2. **トランスレーター**：Gateway は、Model Context Protocol（MCP）などの一般的なプロトコルを使用して行われたエージェントリクエストを API リクエストと Lambda 呼び出しに変換します。これにより、開発者はサーバーのホスティング、プロトコル統合の管理、バージョンサポート、バージョンパッチなどを行う必要がありません。
3. **コンポーザー**：Gateway により、開発者は複数の API、関数、ツールをエージェントが使用できる単一の MCP エンドポイントにシームレスに組み合わせることができます。
4. **キーチェーン**：Gateway は、適切なツールで使用する適切な認証情報の注入を処理し、異なる認証情報セットを必要とするツールをエージェントがシームレスに活用できるようにします。
5. **リサーチャー**：Gateway により、エージェントはすべてのツールを検索して、特定のコンテキストや質問に最適なツールのみを見つけることができます。これにより、エージェントは少数のツールではなく1000以上のツールを活用できます。また、エージェントの LLM プロンプトで提供する必要のあるツールセットを最小化し、レイテンシとコストを削減します。
6. **インフラストラクチャマネージャー**：Gateway は完全にサーバーレスで、組み込みの可観測性と監査機能を備えており、開発者がエージェントとツールを統合するための追加インフラストラクチャを管理する必要がありません。

![How does it work](images/gw-arch-overview.png)

## AgentCore Gateway は多数のツールを持つ MCP サーバーの課題を解決するのに役立ちます

典型的なエンタープライズ環境では、エージェントビルダーは数百または数千の MCP ツールを持つ MCP サーバーに遭遇します。このツールの量は、ツール選択精度の低下、コストの増加、過剰なツールメタデータによる高いトークン使用量によるレイテンシの増加など、AI エージェントに課題をもたらします。
これは、エージェントをサードパーティサービス（例：Zendesk、Salesforce、Slack、JIRA など）や既存のエンタープライズ REST サービスに接続するときに発生する可能性があります。AgentCore Gateway は、ツール全体にわたる組み込みのセマンティック検索を提供し、エージェントが必要なツールを提供しながら、エージェントのレイテンシ、コスト、精度を向上させます。ユースケース、LLM モデル、エージェントフレームワークによっては、一般的な MCP サーバーからの数百のツールの完全なセットを提供する場合と比較して、エージェントを関連ツールに集中させることで最大3倍のレイテンシ改善を実現できます。

![How does it work](images/gateway_tool_search.png)

## チュートリアル概要

これらのチュートリアルでは、以下の機能をカバーします：

- AWS Lambda バックエンドターゲットを持つ Amazon Bedrock AgentCore Gateway の作成
- AgentCore Gateway セマンティック検索の使用
- Strands Agents を使用した AgentCore Gateway 検索によるレイテンシ改善の表示

- [Amazon Bedrock AgentCore Gateway - セマンティック検索](./01-gateway-search.ipynb)
