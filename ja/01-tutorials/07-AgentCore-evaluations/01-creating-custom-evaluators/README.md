# 評価者の作成

## 概要
このチュートリアルでは、AgentCore Evaluations の組み込みメトリクスとカスタムメトリクスについて学びます。
各タイプをいつ使用するか、また特定のニーズに合わせたカスタム評価者の作成方法を学びます。

## 学習内容
- 組み込み評価者とそのユースケースの理解
- 専門的な要件に対するカスタム評価者の作成
- エージェントに適した評価アプローチの選択

## 評価者タイプ

### 組み込み評価者
組み込み評価者は、エージェントのパフォーマンスを評価するために Large Language Models（LLM）をジャッジとして使用する事前設定された評価者です。

**主な特徴：**
- **事前設定済み**: 慎重に作成されたプロンプトテンプレート、選択された評価者モデル、標準化されたスコアリング基準が付属
- **すぐに使用可能**: 追加設定不要ですぐに評価を開始可能
- **一貫性**: 固定された設定により、評価全体で信頼性と一貫性を確保
- **包括的**: 正確性、有用性、安全性を含む13の重要な評価次元をカバー

**組み込み評価者を使用するタイミング：**
- 品質評価を迅速に実装する必要がある場合
- チームやプロジェクト間で標準化された評価メトリクスが必要な場合
- 評価ニーズが一般的な品質次元と一致する場合
- カスタマイズよりも一貫性と信頼性を優先する場合


以下の組み込み評価者がユースケースで利用可能です：
* レスポンス品質メトリクス：
  * **Builtin.Correctness**: エージェントのレスポンスに含まれる情報が事実として正確かどうかを評価
  * **Builtin.Faithfulness**: レスポンスの情報が提供されたコンテキスト/ソースによって裏付けられているかを評価
  * **Builtin.Helpfulness**: ユーザーの観点からエージェントのレスポンスがどれだけ有用で価値があるかを評価
  * **Builtin.ResponseRelevance**: レスポンスがユーザーのクエリに適切に対応しているかを評価
  * **Builtin.Conciseness**: 重要な情報を欠くことなくレスポンスが適切に簡潔かどうかを評価
  * **Builtin.Coherence**: レスポンスが論理的に構成され、一貫性があるかを評価
  * **Builtin.InstructionFollowing**: エージェントが提供されたシステム指示にどれだけよく従っているかを測定
  * **Builtin.Refusal**: エージェントが質問を回避したり、回答を直接拒否したりする場合を検出
* タスク完了メトリクス：
  * **Builtin.GoalSuccessRate**: 会話がユーザーの目標を正常に達成したかを評価
* ツールレベルメトリクス：
  * **Builtin.ToolSelectionAccuracy**: エージェントがタスクに適切なツールを選択したかを評価
  * **Builtin.ToolParameterAccuracy**: エージェントがユーザークエリからパラメータをどれだけ正確に抽出したかを評価
* 安全性メトリクス：
  * **Builtin.Harmfulness**: レスポンスに有害なコンテンツが含まれているかを評価
  * **Builtin.Stereotyping**: 個人やグループに関する一般化を行うコンテンツを検出

**注意:** 組み込み評価者の設定は、すべてのユーザー間で評価の一貫性と信頼性を維持するために変更できませんが、組み込み評価者をベースとして独自の評価者を作成できます。

### カスタム評価者
カスタム評価者は、LLM を基盤となるジャッジとして活用しながら、評価プロセスのあらゆる側面を定義できる最大限の柔軟性を提供します。

**カスタマイズオプション：**
- **評価者モデル**: 評価ニーズに最適な LLM を選択
- **評価プロンプト**: ユースケースに固有の評価指示を作成
- **スコアリングスキーマ**: 組織のメトリクスに合わせたスコアリングシステムを設計

**カスタム評価者を使用するタイミング：**
- ドメイン固有のエージェント（例：医療、金融、法律）を評価する場合
- 独自の品質基準やコンプライアンス要件がある場合
- 組織の KPI に合わせた専門的なスコアリングシステムが必要な場合
- 組み込み評価者が特定の評価次元を捉えていない場合

**ユースケース例：**
- HIPAA コンプライアンス評価が必要な医療エージェント
- 規制遵守スコアリングが必要な金融エージェント
- ブランド固有の品質基準に対して評価されるカスタマーサービスエージェント
- トラブルシューティング方法論で評価されるテクニカルサポートエージェント

## 次のステップ
このチュートリアルを完了したら、[オンデマンド評価の使用](../01-setting-evaluations)に進んで、これらの評価者をエージェントトレースに適用する方法を学びましょう。
