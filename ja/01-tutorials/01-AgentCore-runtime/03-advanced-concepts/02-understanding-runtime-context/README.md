# AgentCore Runtime でのランタイムコンテキストとセッション管理の理解

## 概要

このチュートリアルでは、Amazon Bedrock AgentCore Runtime でのランタイムコンテキストとセッション管理の理解と操作方法を学びます。この例では、AgentCore Runtime がセッションを処理し、複数の呼び出しにわたってコンテキストを維持する方法、およびエージェントがコンテキストオブジェクトを通じてランタイム情報にアクセスする方法を示します。

Amazon Bedrock AgentCore Runtime は、各ユーザーインタラクションに対して分離されたセッションを提供し、エージェントが複数の呼び出しにわたってコンテキストと状態を維持しながら、異なるユーザー間の完全なセキュリティ分離を確保できるようにします。

### チュートリアル詳細

| 情報                | 詳細                                                                                 |
|:--------------------|:------------------------------------------------------------------------------------|
| チュートリアルタイプ | コンテキストとセッション管理                                                          |
| エージェントタイプ   | シングル                                                                             |
| エージェントフレームワーク | Strands Agents                                                                  |
| LLM モデル          | Anthropic Claude Haiku 4.5                                                          |
| チュートリアル構成   | ランタイムコンテキスト、セッション管理、AgentCore Runtime、Strands Agent と Amazon Bedrock Model |
| チュートリアル分野   | クロスバーティカル                                                                   |
| 例の複雑さ          | 中級                                                                                 |
| 使用 SDK            | Amazon BedrockAgentCore Python SDK および boto3                                      |

### チュートリアルアーキテクチャ

このチュートリアルでは、Amazon Bedrock AgentCore Runtime がセッションを管理し、エージェントにコンテキストを提供する方法を探ります。以下をデモンストレーションします：

1. **セッション継続性**：同じセッション ID が複数の呼び出しにわたってコンテキストを維持する方法
2. **コンテキストオブジェクト**：エージェントがコンテキストパラメータを通じてランタイム情報にアクセスする方法
3. **セッション分離**：異なるセッション ID が完全に分離された環境を作成する方法
4. **ペイロードの柔軟性**：ペイロードを通じてエージェントにカスタムデータを渡す方法

デモンストレーション目的で、これらのセッション管理機能を示す Strands Agent を使用します。


<div style="text-align:left">
    <img src="images/architecture_runtime.png" width="60%"/>
</div>

### チュートリアルの主な機能

* **セッションベースのコンテキスト管理**：AgentCore Runtime がセッション内でコンテキストを維持する方法の理解
* **ランタイムセッションライフサイクル**：セッションの作成、維持、終了について学ぶ
* **コンテキストオブジェクトアクセス**：コンテキストパラメータを通じてセッション ID などのランタイム情報にアクセス
* **セッション分離**：異なるセッションが完全な分離を提供する方法のデモンストレーション
* **ペイロード処理**：カスタムペイロード構造を通じた柔軟なデータ受け渡し
* **クロス呼び出し状態**：同じセッション内の複数の呼び出しにわたるエージェント状態の維持
