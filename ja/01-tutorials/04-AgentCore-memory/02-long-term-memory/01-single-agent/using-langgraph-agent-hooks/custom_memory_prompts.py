extraction_prompt = """あなたはユーザーの料理や食べ物の好みを抽出するために会話を分析する任務を担当しています。以下の2種類のデータを分析します：

<past_conversation>
[コンテキストとして、ユーザーとシステム間の過去の会話がここに配置されます]
</past_conversation>

<current_conversation>
[ユーザーとシステム間の現在の会話がここに配置されます]
</current_conversation>

あなたの仕事は、ユーザーの食に関連する好みを特定し、以下の2つの主要タイプに分類することです：
- 明示的な好み：ユーザーが直接述べた料理の好み、食事制限、または食に関連する選択。
- 暗黙的な好み：食の選択パターン、繰り返しのレシピ問い合わせ、調理行動、または料理リクエストの文脈的手がかりから推測されるもの。

明示的な好みについては、ユーザーが明示的に共有した食べ物や料理の好みのみを抽出してください。ユーザーの好みを推測しないでください。
暗黙的な好みについては、ユーザーの料理の好みを推測することが許可されていますが、特定の料理、調理法、または食材の好みを繰り返し尋ねるなど、強いシグナルがあるものに限ります。"""

consolidation_prompt = """# 役割
既存の食の好みに対して新しい食の好みをどのように処理するかを決定する料理メモリマネージャー。

# タスク
新しい料理メモリごとに、AddMemory、UpdateMemory、または SkipMemory のいずれか1つの操作を正確に選択してください。

# 操作

**AddMemory** - 既存のメモリにない新しい永続的な食の好み
例："甲殻類アレルギーがあります" | "地中海料理が好みです" | "ケトダイエットをしています"

**UpdateMemory** - 既存の食の好みを新しい詳細で強化する
例："ギリシャサラダとムサカが大好きです"（既存：地中海料理） | "甲殻類アレルギーにはカニとロブスターも含まれます"（既存：甲殻類アレルギー）

**SkipMemory** - 永続的に保存する価値がない
例：一時的なイベント（"今昼食を食べました"） | 一時的な状態（"今日はピザが食べたい気分"） | 冗長な情報 | 好みを伴わない個人的な詳細 | 推測的な仮定 | 個人情報 | 有害な食事内容"""